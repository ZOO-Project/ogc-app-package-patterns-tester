{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"OGC Application Package Patterns Tester","text":"<p>A Python tool for testing OGC API Processes application package patterns using the <code>ogc-api-client</code> library.</p>"},{"location":"#overview","title":"Overview","text":"<p>This project provides a Python implementation of pattern testing functionality, allowing automated deployment, execution, and cleanup of CWL workflows on OGC API Processes servers.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>\u2705 Automatic deployment of CWL patterns on OGC API Processes servers</li> <li>\u2705 Automated execution with pattern-specific parameters</li> <li>\u2705 Job monitoring with configurable timeouts</li> <li>\u2705 Automatic cleanup of deployed processes and jobs</li> <li>\u2705 Multiple authentication methods (Bearer tokens, Basic auth, API keys)</li> <li>\u2705 Parameter synchronization from GitHub notebooks to local JSON files</li> <li>\u2705 Comprehensive testing with 41 unit tests and integration tests</li> <li>\u2705 Clean interrupt handling with graceful shutdown messages</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install with Hatch\npip install hatch\nhatch build --clean\n\n# Run a pattern\nhatch run ogc-patterns-tester --server-url https://your-server.com/ogc-api/ run pattern-1\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Installation - Setup and installation guide</li> <li>Usage - How to use the tool</li> <li>API Reference - Python API documentation</li> <li>Contributing - Contributing guidelines</li> </ul>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub: ZOO-Project/ogc-app-package-patterns-tester</li> <li>OGC API Client: github.com/EOEPCA/ogc-api-client</li> <li>Application Package Patterns: github.com/eoap/application-package-patterns</li> </ul>"},{"location":"api/","title":"API Reference","text":""},{"location":"api/#core-modules","title":"Core Modules","text":""},{"location":"api/#patternsmanager","title":"PatternsManager","text":"<p>Main class for managing pattern deployment and execution.</p> <pre><code>from ogc_patterns_tester import PatternsManager, ServerConfig\n\nconfig = ServerConfig(\n    base_url=\"https://your-server.com/ogc-api/\",\n    auth_token=\"your-token\"\n)\n\nmanager = PatternsManager(\n    server_config=config,\n    patterns_dir=\"data/patterns\",\n    download_dir=\"temp/cwl\"\n)\n</code></pre>"},{"location":"api/#methods","title":"Methods","text":"<ul> <li><code>run_single_pattern(pattern_id: str) -&gt; ExecutionResult</code></li> <li><code>run_multiple_patterns(pattern_ids: List[str]) -&gt; TestSummary</code></li> <li><code>run_all_patterns() -&gt; TestSummary</code></li> <li><code>deploy_pattern(pattern_id: str) -&gt; ProcessInfo</code></li> <li><code>cleanup_pattern(pattern_id: str) -&gt; bool</code></li> </ul>"},{"location":"api/#serverconfig","title":"ServerConfig","text":"<p>Configuration for OGC API Processes server.</p> <pre><code>from ogc_patterns_tester.models import ServerConfig\n\nconfig = ServerConfig(\n    base_url=\"https://your-server.com/ogc-api/\",\n    auth_token=\"your-jwt-token\",\n    username=None,\n    password=None,\n    api_key=None,\n    timeout=300\n)\n</code></pre>"},{"location":"api/#parameters","title":"Parameters","text":"<ul> <li><code>base_url</code> (str): Base URL of the OGC API Processes server</li> <li><code>auth_token</code> (str, optional): Bearer token for authentication</li> <li><code>username</code> (str, optional): Username for basic authentication</li> <li><code>password</code> (str, optional): Password for basic authentication</li> <li><code>api_key</code> (str, optional): API key for authentication</li> <li><code>timeout</code> (int): Request timeout in seconds (default: 300)</li> </ul>"},{"location":"api/#executionresult","title":"ExecutionResult","text":"<p>Result of pattern execution.</p> <pre><code>class ExecutionResult:\n    pattern_id: str\n    success: bool\n    message: str\n    execution_time: float\n    job_id: Optional[str]\n    process_id: Optional[str]\n</code></pre>"},{"location":"api/#testsummary","title":"TestSummary","text":"<p>Summary of multiple pattern executions.</p> <pre><code>class TestSummary:\n    total_patterns: int\n    successful_patterns: int\n    failed_patterns: int\n    total_execution_time: float\n    results: List[ExecutionResult]\n</code></pre>"},{"location":"api/#cli-module","title":"CLI Module","text":""},{"location":"api/#command-line-interface","title":"Command Line Interface","text":"<p>The CLI is built with Click and provides the following commands:</p> <pre><code>ogc-patterns-tester [OPTIONS] COMMAND [ARGS]\n</code></pre>"},{"location":"api/#global-options","title":"Global Options","text":"<ul> <li><code>-c, --config PATH</code>: Server JSON configuration file</li> <li><code>-s, --server-url TEXT</code>: Base URL of the OGC API Processes server</li> <li><code>-t, --auth-token TEXT</code>: Authentication token</li> <li><code>-p, --patterns-dir PATH</code>: Directory containing pattern files</li> <li><code>-d, --download-dir PATH</code>: Temporary directory for CWL files</li> <li><code>-f, --force-download</code>: Force re-download of CWL files</li> <li><code>-v, --verbose</code>: Verbose mode</li> </ul>"},{"location":"api/#commands","title":"Commands","text":"<ul> <li><code>run PATTERN_ID</code>: Execute a specific pattern</li> <li><code>run-all</code>: Execute all available patterns</li> <li><code>run-multiple PATTERN_IDS...</code>: Execute multiple patterns</li> <li><code>list-patterns</code>: List all available patterns</li> <li><code>deploy PATTERN_ID</code>: Deploy a pattern without executing</li> <li><code>cleanup PATTERN_ID</code>: Clean up a deployed pattern</li> <li><code>cleanup-all</code>: Clean up all deployed patterns</li> <li><code>check-job JOB_ID</code>: Check job status</li> <li><code>sync-params</code>: Synchronize pattern parameters from GitHub</li> </ul>"},{"location":"api/#utilities","title":"Utilities","text":""},{"location":"api/#logger","title":"Logger","text":"<pre><code>from ogc_patterns_tester.utils import setup_logger\n\nlogger = setup_logger(verbose=True)\n</code></pre>"},{"location":"api/#download-cwl-workflows","title":"Download CWL Workflows","text":"<pre><code>from ogc_patterns_tester.utils import download_cwl_workflow\n\ncwl_path = download_cwl_workflow(\n    pattern_id=\"pattern-1\",\n    output_dir=\"temp/cwl\",\n    force_download=False\n)\n</code></pre>"},{"location":"contributing/","title":"Contributing","text":"<p>Contributions are welcome! Here's how to get started.</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository</li> <li>Clone your fork:    <pre><code>git clone https://github.com/YOUR_USERNAME/ogc-app-package-patterns-tester.git\ncd ogc-app-package-patterns-tester\n</code></pre></li> <li>Install Hatch:    <pre><code>pip install hatch\n</code></pre></li> <li>Build the package:    <pre><code>hatch build --clean\n</code></pre></li> </ol>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all unit tests\nhatch run test\n\n# Run tests with coverage\nhatch run test-cov\n\n# Run specific test file\nhatch run pytest tests/test_client.py -v\n\n# Run integration tests (requires server credentials)\nexport OGC_TEST_SERVER_URL=\"https://your-server.com/ogc-api/\"\nexport OGC_TEST_ACCESS_TOKEN=\"your-bearer-token\"\nhatch run test -m integration\n</code></pre>"},{"location":"contributing/#code-quality","title":"Code Quality","text":"<pre><code># Format code with Black\nhatch run fmt\n\n# Run linter with Ruff\nhatch run lint\n\n# Run all quality checks\nhatch run check\n</code></pre>"},{"location":"contributing/#testing-your-changes","title":"Testing Your Changes","text":"<p>Before submitting a pull request:</p> <ol> <li>Run all tests: <code>hatch run test</code></li> <li>Check code quality: <code>hatch run check</code></li> <li>Test manually: Try the CLI with your changes</li> <li>Update documentation: If you added features</li> </ol>"},{"location":"contributing/#development-guidelines","title":"Development Guidelines","text":""},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8 style guidelines (enforced by Black)</li> <li>Use type hints for function parameters and return values</li> <li>Add docstrings to public functions and classes</li> <li>Keep functions focused and small</li> </ul>"},{"location":"contributing/#testing","title":"Testing","text":"<ul> <li>Write tests for new features</li> <li>Keep test coverage above 80%</li> <li>Use mocks for external API calls in unit tests</li> <li>Add integration tests for end-to-end scenarios</li> </ul>"},{"location":"contributing/#commit-messages","title":"Commit Messages","text":"<p>Use clear and descriptive commit messages:</p> <pre><code># Good\ngit commit -m \"Add support for pattern-13 with multiple outputs\"\ngit commit -m \"Fix timeout handling in job monitoring\"\n\n# Not so good\ngit commit -m \"fix bug\"\ngit commit -m \"updates\"\n</code></pre>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li> <p>Create a feature branch:    <pre><code>git checkout -b feature/amazing-feature\n</code></pre></p> </li> <li> <p>Make your changes and commit them:    <pre><code>git commit -am 'Add amazing feature'\n</code></pre></p> </li> <li> <p>Push to your fork:    <pre><code>git push origin feature/amazing-feature\n</code></pre></p> </li> <li> <p>Open a Pull Request on GitHub with:</p> </li> <li>Clear description of changes</li> <li>Link to related issues</li> <li>Screenshots/examples if applicable</li> </ol>"},{"location":"contributing/#project-structure","title":"Project Structure","text":"<pre><code>ogc-app-package-patterns-tester/\n\u251c\u2500\u2500 src/ogc_patterns_tester/    # Main package\n\u2502   \u251c\u2500\u2500 cli.py                  # CLI with Click\n\u2502   \u251c\u2500\u2500 client.py               # OGC API client wrapper\n\u2502   \u251c\u2500\u2500 patterns_manager.py     # Pattern orchestration\n\u2502   \u251c\u2500\u2500 models.py               # Data models\n\u2502   \u2514\u2500\u2500 utils.py                # Utilities\n\u251c\u2500\u2500 tests/                      # Test suite\n\u2502   \u251c\u2500\u2500 test_client.py\n\u2502   \u251c\u2500\u2500 test_patterns_manager.py\n\u2502   \u251c\u2500\u2500 test_models.py\n\u2502   \u2514\u2500\u2500 test_integration.py\n\u251c\u2500\u2500 data/patterns/              # Pattern configurations\n\u251c\u2500\u2500 docs/                       # Documentation\n\u2514\u2500\u2500 pyproject.toml             # Project configuration\n</code></pre>"},{"location":"contributing/#adding-new-features","title":"Adding New Features","text":""},{"location":"contributing/#adding-a-new-pattern","title":"Adding a New Pattern","text":"<ol> <li>Add pattern configuration in <code>data/patterns/pattern-X.json</code></li> <li>Update pattern list in documentation</li> <li>Add tests in <code>tests/test_patterns_manager.py</code></li> </ol>"},{"location":"contributing/#adding-a-new-cli-command","title":"Adding a New CLI Command","text":"<ol> <li>Add command in <code>src/ogc_patterns_tester/cli.py</code></li> <li>Update CLI documentation</li> <li>Add tests for the command</li> </ol>"},{"location":"contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Open an issue for bugs or feature requests</li> <li>Join discussions on GitHub</li> <li>Check existing issues and pull requests</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the Apache 2.0 License.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.8 or newer</li> <li>Hatch for development (recommended)</li> <li>A running OGC API Processes server</li> </ul>"},{"location":"installation/#quick-installation-with-hatch-recommended","title":"Quick Installation with Hatch (Recommended)","text":"<pre><code># Clone the project\ngit clone https://github.com/ZOO-Project/ogc-app-package-patterns-tester.git\ncd ogc-app-package-patterns-tester\n\n# Install Hatch if not already installed\npip install hatch\n\n# Build the package\nhatch build --clean\n\n# Run the CLI (Hatch manages the environment automatically)\nhatch run ogc-patterns-tester --help\n</code></pre>"},{"location":"installation/#alternative-pip-installation","title":"Alternative: pip Installation","text":"<pre><code># Create a virtual environment\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# or\nvenv\\Scripts\\activate  # Windows\n\n# Install the package\npip install -e .\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"<pre><code># With Hatch\nhatch run ogc-patterns-tester --help\n\n# Or if installed in venv\nogc-patterns-tester --help\n</code></pre> <p>You should see the CLI help message with available commands.</p>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#quick-start","title":"Quick Start","text":"<pre><code># Run a single pattern (with Hatch)\nhatch run ogc-patterns-tester --server-url https://your-server.com/ogc-api/ run pattern-1\n\n# Run with authentication (Bearer token)\nhatch run ogc-patterns-tester \\\n  --server-url https://your-server.com/ogc-api/ \\\n  --auth-token \"eyJhbGci...\" \\\n  run pattern-1\n\n# Run all patterns\nhatch run ogc-patterns-tester \\\n  --server-url https://your-server.com/ogc-api/ \\\n  --auth-token \"your-token\" \\\n  run-all --timeout 0\n</code></pre>"},{"location":"usage/#command-line-interface","title":"Command Line Interface","text":""},{"location":"usage/#basic-commands","title":"Basic Commands","text":"<pre><code># List available patterns\nogc-patterns-tester list-patterns\n\n# Execute a specific pattern\nogc-patterns-tester run pattern-1\n\n# Execute multiple patterns\nogc-patterns-tester run-multiple pattern-1 pattern-2 pattern-3\n\n# Execute all available patterns\nogc-patterns-tester run-all\n</code></pre>"},{"location":"usage/#authentication","title":"Authentication","text":"<p>The tool supports multiple authentication methods:</p> <pre><code># Bearer token (JWT - recommended)\nogc-patterns-tester \\\n  --server-url https://your-server.com/ogc-api/ \\\n  --auth-token \"eyJhbGci...\" \\\n  run pattern-1\n</code></pre> <p>Authentication Methods:</p> <ul> <li>Bearer Token (<code>--auth-token</code>): JWT tokens from OAuth2/OIDC providers</li> <li>Basic Auth: Username/password (configure programmatically)</li> <li>API Key: Custom API keys (configure programmatically)</li> </ul>"},{"location":"usage/#advanced-options","title":"Advanced Options","text":"<pre><code># Verbose mode\nogc-patterns-tester --verbose run-all\n\n# Custom timeout (seconds, 0 = unlimited)\nogc-patterns-tester run pattern-1 --timeout 600\n\n# Continue on error\nogc-patterns-tester run-all --continue-on-error\n\n# Force re-download CWL files\nogc-patterns-tester --force-download run pattern-1\n</code></pre>"},{"location":"usage/#programmatic-usage","title":"Programmatic Usage","text":""},{"location":"usage/#simple-example","title":"Simple Example","text":"<pre><code>from ogc_patterns_tester import PatternsManager, ServerConfig\n\n# Server configuration\nconfig = ServerConfig(\n    base_url=\"https://your-server.com/ogc-api/\",\n    auth_token=\"eyJhbGci...\",\n    timeout=300\n)\n\n# Create manager\nmanager = PatternsManager(\n    server_config=config,\n    patterns_dir=\"data/patterns\",\n    download_dir=\"temp/cwl\"\n)\n\n# Execute pattern\nresult = manager.run_single_pattern(\"pattern-1\")\n\nif result.success:\n    print(f\"\u2713 Success in {result.execution_time:.1f}s\")\nelse:\n    print(f\"\u2717 Failed: {result.message}\")\n</code></pre>"},{"location":"usage/#advanced-example","title":"Advanced Example","text":"<pre><code>from ogc_patterns_tester import PatternsManager, ServerConfig\n\nconfig = ServerConfig(\n    base_url=\"https://your-server.com/ogc-api/\",\n    auth_token=\"your-bearer-token\",\n    timeout=600\n)\n\nmanager = PatternsManager(\n    server_config=config,\n    patterns_dir=\"data/patterns\",\n    download_dir=\"temp/cwl\",\n    force_download=False\n)\n\n# Execute multiple patterns\npattern_ids = [\"pattern-1\", \"pattern-2\", \"pattern-3\"]\nsummary = manager.run_multiple_patterns(\n    pattern_ids,\n    timeout=0,\n    continue_on_error=True\n)\n\nprint(f\"Results: {summary.successful_patterns}/{summary.total_patterns} successful\")\n</code></pre>"},{"location":"usage/#supported-patterns","title":"Supported Patterns","text":"Pattern Description Inputs Outputs pattern-1 One input/one output 1 1 pattern-2 Two inputs/one output 2 1 pattern-3 Scatter on inputs/one output Multiple 1 pattern-4 One input/two outputs 1 2 pattern-5 One input/scatter on outputs 1 Multiple pattern-6 One input, no output 1 0 pattern-7 Optional inputs, one output 1-N 1 pattern-8 One input, optional output 1 0-1 pattern-9 One input, optional outputs 1 0-N pattern-10 Multiple inputs, multiple outputs N N pattern-11 One input/one output (with DEM) 1 1 pattern-12 One input/multiple outputs (complex) 1 N"}]}